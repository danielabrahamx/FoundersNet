{
    "name": "PredictionMarket",
    "structs": {
        "BetStruct": [
            {
                "name": "bet_id",
                "type": "uint64"
            },
            {
                "name": "event_id",
                "type": "uint64"
            },
            {
                "name": "bettor",
                "type": "address"
            },
            {
                "name": "outcome",
                "type": "bool"
            },
            {
                "name": "amount",
                "type": "uint64"
            },
            {
                "name": "claimed",
                "type": "bool"
            }
        ],
        "EventStruct": [
            {
                "name": "event_id",
                "type": "uint64"
            },
            {
                "name": "name",
                "type": "string"
            },
            {
                "name": "end_time",
                "type": "uint64"
            },
            {
                "name": "resolved",
                "type": "bool"
            },
            {
                "name": "outcome",
                "type": "bool"
            },
            {
                "name": "total_yes_bets",
                "type": "uint64"
            },
            {
                "name": "total_no_bets",
                "type": "uint64"
            },
            {
                "name": "total_yes_amount",
                "type": "uint64"
            },
            {
                "name": "total_no_amount",
                "type": "uint64"
            }
        ]
    },
    "methods": [
        {
            "name": "create_application",
            "args": [
                {
                    "type": "address",
                    "name": "admin",
                    "desc": "The account that will have admin privileges"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [
                    "NoOp"
                ],
                "call": []
            },
            "readonly": false,
            "desc": "Initialize the application\nSets the admin address and initializes counters",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "create_event",
            "args": [
                {
                    "type": "string",
                    "name": "name"
                },
                {
                    "type": "uint64",
                    "name": "end_time"
                }
            ],
            "returns": {
                "type": "uint64"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Create a new prediction event (admin only)\nArgs:     name: Name/description of the event     end_time: Unix timestamp when betting ends      Returns:     The event ID of the newly created event      Raises:     Error if caller is not admin     Error if end_time is not in the future",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "place_bet",
            "args": [
                {
                    "type": "uint64",
                    "name": "event_id"
                },
                {
                    "type": "bool",
                    "name": "outcome"
                },
                {
                    "type": "pay",
                    "name": "payment"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Place a bet on an event\nThis method expects to be called as part of an atomic transaction group where the first transaction is a payment to the application account.\nArgs:     event_id: ID of the event to bet on     outcome: True for YES, False for NO     payment: Payment transaction with the bet amount      Raises:     Error if event doesn't exist     Error if event is already resolved     Error if betting period has ended     Error if payment amount is 0     Error if payment receiver is not the application account",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "resolve_event",
            "args": [
                {
                    "type": "uint64",
                    "name": "event_id"
                },
                {
                    "type": "bool",
                    "name": "outcome"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Resolve an event with the final outcome (admin only)\nAdmin can resolve early if needed (no endTime check)\nArgs:     event_id: ID of the event to resolve     outcome: True for YES, False for NO      Raises:     Error if caller is not admin     Error if event doesn't exist     Error if event is already resolved",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "claim_winnings",
            "args": [
                {
                    "type": "uint64",
                    "name": "bet_id"
                }
            ],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Claim winnings for a winning bet\nSends payout from app account to the bettor via inner transaction\nArgs:     bet_id: ID of the bet to claim      Raises:     Error if bet doesn't exist     Error if caller is not the bettor     Error if winnings already claimed     Error if event not resolved     Error if bet did not win",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_user_bets",
            "args": [
                {
                    "type": "address",
                    "name": "user",
                    "desc": "Address of the user"
                }
            ],
            "returns": {
                "type": "(uint64,uint64,address,bool,uint64,bool)[]",
                "desc": "Array of Bet structs for the user"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get all bets for a user",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_total_bets",
            "args": [
                {
                    "type": "uint64",
                    "name": "event_id"
                }
            ],
            "returns": {
                "type": "(uint64,uint64)"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get total bet counts for an event\nArgs:     event_id: ID of the event      Returns:     Tuple of (yes_bets, no_bets)      Raises:     Error if event doesn't exist",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_event",
            "args": [
                {
                    "type": "uint64",
                    "name": "event_id"
                }
            ],
            "returns": {
                "type": "(uint64,string,uint64,bool,bool,uint64,uint64,uint64,uint64)",
                "struct": "EventStruct"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get event details\nArgs:     event_id: ID of the event      Returns:     Event struct with all event data      Raises:     Error if event doesn't exist",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_all_events",
            "args": [],
            "returns": {
                "type": "(uint64,string,uint64,bool,bool,uint64,uint64,uint64,uint64)[]",
                "desc": "Array of all Event structs"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get all events",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_contract_balance",
            "args": [],
            "returns": {
                "type": "uint64",
                "desc": "Current balance of the application account in microAlgos"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get contract/app account balance",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "emergency_withdraw",
            "args": [],
            "returns": {
                "type": "void"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": false,
            "desc": "Emergency withdraw function for admin\nTransfers entire app balance to admin account\nRaises:     Error if caller is not admin",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_admin",
            "args": [],
            "returns": {
                "type": "address",
                "desc": "Address of the admin account"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get the admin address",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_event_counter",
            "args": [],
            "returns": {
                "type": "uint64",
                "desc": "Number of events created"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get the current event counter",
            "events": [],
            "recommendations": {}
        },
        {
            "name": "get_bet_counter",
            "args": [],
            "returns": {
                "type": "uint64",
                "desc": "Number of bets placed"
            },
            "actions": {
                "create": [],
                "call": [
                    "NoOp"
                ]
            },
            "readonly": true,
            "desc": "Get the current bet counter",
            "events": [],
            "recommendations": {}
        }
    ],
    "arcs": [
        22,
        28
    ],
    "desc": "\n    Algorand-based prediction market smart contract\n    \n    Features:\n    - Admin can create prediction events\n    - Users can place bets (YES/NO) with ALGO\n    - Admin can resolve events (with early resolution support)\n    - Winners can claim proportional payouts\n    ",
    "networks": {},
    "state": {
        "schema": {
            "global": {
                "ints": 2,
                "bytes": 1
            },
            "local": {
                "ints": 0,
                "bytes": 0
            }
        },
        "keys": {
            "global": {
                "admin": {
                    "keyType": "AVMString",
                    "valueType": "address",
                    "key": "YWRtaW4="
                },
                "event_counter": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "ZXZlbnRfY291bnRlcg=="
                },
                "bet_counter": {
                    "keyType": "AVMString",
                    "valueType": "AVMUint64",
                    "key": "YmV0X2NvdW50ZXI="
                }
            },
            "local": {},
            "box": {}
        },
        "maps": {
            "global": {},
            "local": {},
            "box": {
                "events": {
                    "keyType": "uint64",
                    "valueType": "EventStruct",
                    "prefix": "ZXZlbnRz"
                },
                "bets": {
                    "keyType": "uint64",
                    "valueType": "BetStruct",
                    "prefix": "YmV0cw=="
                },
                "user_bets": {
                    "keyType": "address",
                    "valueType": "uint64[]",
                    "prefix": "dXNlcl9iZXRz"
                },
                "event_bets": {
                    "keyType": "uint64",
                    "valueType": "uint64[]",
                    "prefix": "ZXZlbnRfYmV0cw=="
                }
            }
        }
    },
    "bareActions": {
        "create": [],
        "call": []
    },
    "sourceInfo": {
        "approval": {
            "sourceInfo": [
                {
                    "pc": [
                        470
                    ],
                    "errorMessage": "Bet amount must be greater than 0"
                },
                {
                    "pc": [
                        894
                    ],
                    "errorMessage": "Bet did not win"
                },
                {
                    "pc": [
                        806
                    ],
                    "errorMessage": "Bet does not exist"
                },
                {
                    "pc": [
                        278
                    ],
                    "errorMessage": "End time must be in the future"
                },
                {
                    "pc": [
                        748
                    ],
                    "errorMessage": "Event already resolved"
                },
                {
                    "pc": [
                        462
                    ],
                    "errorMessage": "Event betting period has ended"
                },
                {
                    "pc": [
                        422,
                        723,
                        1128,
                        1164
                    ],
                    "errorMessage": "Event does not exist"
                },
                {
                    "pc": [
                        452
                    ],
                    "errorMessage": "Event is already resolved"
                },
                {
                    "pc": [
                        865
                    ],
                    "errorMessage": "Event not resolved yet"
                },
                {
                    "pc": [
                        1394
                    ],
                    "errorMessage": "No balance to withdraw"
                },
                {
                    "pc": [
                        826
                    ],
                    "errorMessage": "Not the bet owner"
                },
                {
                    "pc": [
                        103
                    ],
                    "errorMessage": "OnCompletion must be NoOp"
                },
                {
                    "pc": [
                        272
                    ],
                    "errorMessage": "Only admin can create events"
                },
                {
                    "pc": [
                        1384
                    ],
                    "errorMessage": "Only admin can emergency withdraw"
                },
                {
                    "pc": [
                        714
                    ],
                    "errorMessage": "Only admin can resolve events"
                },
                {
                    "pc": [
                        477
                    ],
                    "errorMessage": "Payment must be to app account"
                },
                {
                    "pc": [
                        841
                    ],
                    "errorMessage": "Winnings already claimed"
                },
                {
                    "pc": [
                        1365,
                        1389
                    ],
                    "errorMessage": "account funded"
                },
                {
                    "pc": [
                        270,
                        712,
                        1379,
                        1435
                    ],
                    "errorMessage": "check self.admin exists"
                },
                {
                    "pc": [
                        481,
                        804,
                        1066,
                        1456
                    ],
                    "errorMessage": "check self.bet_counter exists"
                },
                {
                    "pc": [
                        817,
                        1077
                    ],
                    "errorMessage": "check self.bets entry exists"
                },
                {
                    "pc": [
                        562
                    ],
                    "errorMessage": "check self.event_bets entry exists"
                },
                {
                    "pc": [
                        282,
                        420,
                        721,
                        1126,
                        1162,
                        1188,
                        1445
                    ],
                    "errorMessage": "check self.event_counter exists"
                },
                {
                    "pc": [
                        435,
                        730,
                        1169,
                        1205
                    ],
                    "errorMessage": "check self.events entry exists"
                },
                {
                    "pc": [
                        534
                    ],
                    "errorMessage": "check self.user_bets entry exists"
                },
                {
                    "pc": [
                        255
                    ],
                    "errorMessage": "invalid number of bytes for (len+utf8[])"
                },
                {
                    "pc": [
                        403,
                        705
                    ],
                    "errorMessage": "invalid number of bytes for bool8"
                },
                {
                    "pc": [
                        263,
                        392,
                        697,
                        798,
                        1120,
                        1156
                    ],
                    "errorMessage": "invalid number of bytes for uint64"
                },
                {
                    "pc": [
                        230,
                        1015
                    ],
                    "errorMessage": "invalid number of bytes for uint8[32]"
                },
                {
                    "pc": [
                        538,
                        566,
                        1083
                    ],
                    "errorMessage": "max array length exceeded"
                },
                {
                    "pc": [
                        413
                    ],
                    "errorMessage": "transaction type is pay"
                }
            ],
            "pcOffsetMethod": "none"
        },
        "clear": {
            "sourceInfo": [],
            "pcOffsetMethod": "none"
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuYXBwcm92YWxfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIGludGNibG9jayAwIDEgOCAyCiAgICBieXRlY2Jsb2NrICJldmVudF9jb3VudGVyIiAweDE1MWY3Yzc1ICJiZXRfY291bnRlciIgImV2ZW50cyIgMHgwMCAiYWRtaW4iIDB4MDAwMCAiYmV0cyIgImV2ZW50X2JldHMiICJ1c2VyX2JldHMiCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYm56IG1haW5fYWZ0ZXJfaWZfZWxzZUAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NjAtNjEKICAgIC8vICMgR2xvYmFsIHN0YXRlIHZhcmlhYmxlcwogICAgLy8gc2VsZi5hZG1pbiA9IEFjY291bnQoKQogICAgYnl0ZWMgNSAvLyAiYWRtaW4iCiAgICBnbG9iYWwgWmVyb0FkZHJlc3MKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NjIKICAgIC8vIHNlbGYuZXZlbnRfY291bnRlciA9IFVJbnQ2NCgwKQogICAgYnl0ZWNfMCAvLyAiZXZlbnRfY291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjYzCiAgICAvLyBzZWxmLmJldF9jb3VudGVyID0gVUludDY0KDApCiAgICBieXRlY18yIC8vICJiZXRfY291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAoKbWFpbl9hZnRlcl9pZl9lbHNlQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDcKICAgIC8vIGNsYXNzIFByZWRpY3Rpb25NYXJrZXQoQVJDNENvbnRyYWN0KToKICAgIHR4biBPbkNvbXBsZXRpb24KICAgICEKICAgIGFzc2VydCAvLyBPbkNvbXBsZXRpb24gbXVzdCBiZSBOb09wCiAgICB0eG4gQXBwbGljYXRpb25JRAogICAgYnogbWFpbl9jcmVhdGVfTm9PcEAxOQogICAgcHVzaGJ5dGVzcyAweGRiYTMwMzZlIDB4NmY3MWQxMTEgMHhiYjU0YjUyNCAweDdiMzdkZmRhIDB4YTM2NWZkNTEgMHgwYzIzN2VkYSAweGU0MzdkZDczIDB4Nzg4ZDVjZjkgMHgxN2FiODE2ZSAweGEyZWJjNDYxIDB4MzQ2YjNkYmMgMHhhNmVkNGNjMyAweDFlZjVlOGQ1IC8vIG1ldGhvZCAiY3JlYXRlX2V2ZW50KHN0cmluZyx1aW50NjQpdWludDY0IiwgbWV0aG9kICJwbGFjZV9iZXQodWludDY0LGJvb2wscGF5KXZvaWQiLCBtZXRob2QgInJlc29sdmVfZXZlbnQodWludDY0LGJvb2wpdm9pZCIsIG1ldGhvZCAiY2xhaW1fd2lubmluZ3ModWludDY0KXZvaWQiLCBtZXRob2QgImdldF91c2VyX2JldHMoYWRkcmVzcykodWludDY0LHVpbnQ2NCxhZGRyZXNzLGJvb2wsdWludDY0LGJvb2wpW10iLCBtZXRob2QgImdldF90b3RhbF9iZXRzKHVpbnQ2NCkodWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldF9ldmVudCh1aW50NjQpKHVpbnQ2NCxzdHJpbmcsdWludDY0LGJvb2wsYm9vbCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpIiwgbWV0aG9kICJnZXRfYWxsX2V2ZW50cygpKHVpbnQ2NCxzdHJpbmcsdWludDY0LGJvb2wsYm9vbCx1aW50NjQsdWludDY0LHVpbnQ2NCx1aW50NjQpW10iLCBtZXRob2QgImdldF9jb250cmFjdF9iYWxhbmNlKCl1aW50NjQiLCBtZXRob2QgImVtZXJnZW5jeV93aXRoZHJhdygpdm9pZCIsIG1ldGhvZCAiZ2V0X2FkbWluKClhZGRyZXNzIiwgbWV0aG9kICJnZXRfZXZlbnRfY291bnRlcigpdWludDY0IiwgbWV0aG9kICJnZXRfYmV0X2NvdW50ZXIoKXVpbnQ2NCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIGNyZWF0ZV9ldmVudCBwbGFjZV9iZXQgcmVzb2x2ZV9ldmVudCBjbGFpbV93aW5uaW5ncyBnZXRfdXNlcl9iZXRzIGdldF90b3RhbF9iZXRzIGdldF9ldmVudCBnZXRfYWxsX2V2ZW50cyBnZXRfY29udHJhY3RfYmFsYW5jZSBlbWVyZ2VuY3lfd2l0aGRyYXcgZ2V0X2FkbWluIGdldF9ldmVudF9jb3VudGVyIGdldF9iZXRfY291bnRlcgogICAgZXJyCgptYWluX2NyZWF0ZV9Ob09wQDE5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQ3CiAgICAvLyBjbGFzcyBQcmVkaWN0aW9uTWFya2V0KEFSQzRDb250cmFjdCk6CiAgICBwdXNoYnl0ZXMgMHg4OTRhNzE2ZSAvLyBtZXRob2QgImNyZWF0ZV9hcHBsaWNhdGlvbihhZGRyZXNzKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCBjcmVhdGVfYXBwbGljYXRpb24KICAgIGVycgoKCi8vIHByZWRpY3Rpb25fbWFya2V0LlByZWRpY3Rpb25NYXJrZXQuY3JlYXRlX2FwcGxpY2F0aW9uW3JvdXRpbmddKCkgLT4gdm9pZDoKY3JlYXRlX2FwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjcxCiAgICAvLyBAYXJjNC5hYmltZXRob2QoYWxsb3dfYWN0aW9ucz1bIk5vT3AiXSwgY3JlYXRlPSJyZXF1aXJlIikKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50OFszMl0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo4MAogICAgLy8gc2VsZi5hZG1pbiA9IGFkbWluCiAgICBieXRlYyA1IC8vICJhZG1pbiIKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6ODEKICAgIC8vIHNlbGYuZXZlbnRfY291bnRlciA9IFVJbnQ2NCgwKQogICAgYnl0ZWNfMCAvLyAiZXZlbnRfY291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjgyCiAgICAvLyBzZWxmLmJldF9jb3VudGVyID0gVUludDY0KDApCiAgICBieXRlY18yIC8vICJiZXRfY291bnRlciIKICAgIGludGNfMCAvLyAwCiAgICBhcHBfZ2xvYmFsX3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjcxCiAgICAvLyBAYXJjNC5hYmltZXRob2QoYWxsb3dfYWN0aW9ucz1bIk5vT3AiXSwgY3JlYXRlPSJyZXF1aXJlIikKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LmNyZWF0ZV9ldmVudFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmNyZWF0ZV9ldmVudDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo4NAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBsZW4KICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIChsZW4rdXRmOFtdKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxMDAtMTAxCiAgICAvLyAjIE9ubHkgYWRtaW4gY2FuIGNyZWF0ZSBldmVudHMKICAgIC8vIGFzc2VydCBUeG4uc2VuZGVyID09IHNlbGYuYWRtaW4sICJPbmx5IGFkbWluIGNhbiBjcmVhdGUgZXZlbnRzIgogICAgdHhuIFNlbmRlcgogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDUgLy8gImFkbWluIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmFkbWluIGV4aXN0cwogICAgPT0KICAgIGFzc2VydCAvLyBPbmx5IGFkbWluIGNhbiBjcmVhdGUgZXZlbnRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTAzLTEwNAogICAgLy8gIyBWYWxpZGF0ZSBlbmQgdGltZSBpcyBpbiB0aGUgZnV0dXJlCiAgICAvLyBhc3NlcnQgZW5kX3RpbWUubmF0aXZlID4gR2xvYmFsLmxhdGVzdF90aW1lc3RhbXAsICJFbmQgdGltZSBtdXN0IGJlIGluIHRoZSBmdXR1cmUiCiAgICBkdXAKICAgIGJ0b2kKICAgIGdsb2JhbCBMYXRlc3RUaW1lc3RhbXAKICAgID4KICAgIGFzc2VydCAvLyBFbmQgdGltZSBtdXN0IGJlIGluIHRoZSBmdXR1cmUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxMDYtMTA3CiAgICAvLyAjIEluY3JlbWVudCBldmVudCBjb3VudGVyCiAgICAvLyBzZWxmLmV2ZW50X2NvdW50ZXIgKz0gVUludDY0KDEpCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMCAvLyAiZXZlbnRfY291bnRlciIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ldmVudF9jb3VudGVyIGV4aXN0cwogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ5dGVjXzAgLy8gImV2ZW50X2NvdW50ZXIiCiAgICBkaWcgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxMTIKICAgIC8vIGV2ZW50X2lkPWFyYzQuVUludDY0KGN1cnJlbnRfZXZlbnRfaWQpLAogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjExMC0xMjEKICAgIC8vICMgQ3JlYXRlIG5ldyBldmVudCBzdHJ1Y3QKICAgIC8vIG5ld19ldmVudCA9IEV2ZW50U3RydWN0KAogICAgLy8gICAgIGV2ZW50X2lkPWFyYzQuVUludDY0KGN1cnJlbnRfZXZlbnRfaWQpLAogICAgLy8gICAgIG5hbWU9bmFtZSwKICAgIC8vICAgICBlbmRfdGltZT1lbmRfdGltZSwKICAgIC8vICAgICByZXNvbHZlZD1hcmM0LkJvb2woRmFsc2UpLAogICAgLy8gICAgIG91dGNvbWU9YXJjNC5Cb29sKEZhbHNlKSwKICAgIC8vICAgICB0b3RhbF95ZXNfYmV0cz1hcmM0LlVJbnQ2NCgwKSwKICAgIC8vICAgICB0b3RhbF9ub19iZXRzPWFyYzQuVUludDY0KDApLAogICAgLy8gICAgIHRvdGFsX3llc19hbW91bnQ9YXJjNC5VSW50NjQoMCksCiAgICAvLyAgICAgdG90YWxfbm9fYW1vdW50PWFyYzQuVUludDY0KDApLAogICAgLy8gKQogICAgZHVwCiAgICBwdXNoYnl0ZXMgMHgwMDMzCiAgICBjb25jYXQKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBwdXNoYnl0ZXMgMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxMjMtMTI0CiAgICAvLyAjIFN0b3JlIGV2ZW50IGluIGJveCBzdG9yYWdlCiAgICAvLyBzZWxmLmV2ZW50c1thcmM0LlVJbnQ2NChjdXJyZW50X2V2ZW50X2lkKV0gPSBuZXdfZXZlbnQuY29weSgpCiAgICBieXRlY18zIC8vICJldmVudHMiCiAgICBkaWcgMgogICAgY29uY2F0CiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjEyNi0xMjcKICAgIC8vICMgSW5pdGlhbGl6ZSBlbXB0eSBiZXQgYXJyYXkgZm9yIHRoaXMgZXZlbnQKICAgIC8vIHNlbGYuZXZlbnRfYmV0c1thcmM0LlVJbnQ2NChjdXJyZW50X2V2ZW50X2lkKV0gPSBhcmM0LkR5bmFtaWNBcnJheVthcmM0LlVJbnQ2NF0oKQogICAgYnl0ZWMgOCAvLyAiZXZlbnRfYmV0cyIKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGR1cAogICAgYm94X2RlbAogICAgcG9wCiAgICBieXRlYyA2IC8vIDB4MDAwMAogICAgYm94X3B1dAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjEyOS0xMzAKICAgIC8vICMgTG9nIGV2ZW50IGNyZWF0aW9uICh2aWEgdHJhbnNhY3Rpb24gbm90ZSkKICAgIC8vIGxvZyhhcmM0LlN0cmluZygiRXZlbnRDcmVhdGVkIikuYnl0ZXMgKyBhcmM0LlVJbnQ2NChjdXJyZW50X2V2ZW50X2lkKS5ieXRlcykKICAgIHB1c2hieXRlcyAweDAwMGM0NTc2NjU2ZTc0NDM3MjY1NjE3NDY1NjQKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5Ojg0CiAgICAvLyBAYXJjNC5hYmltZXRob2QKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LnBsYWNlX2JldFtyb3V0aW5nXSgpIC0+IHZvaWQ6CnBsYWNlX2JldDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxMzQKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgY292ZXIgMgogICAgZHVwCiAgICBsZW4KICAgIGludGNfMSAvLyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciBib29sOAogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXAKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTU5LTE2MAogICAgLy8gIyBWYWxpZGF0ZSBldmVudCBleGlzdHMKICAgIC8vIGFzc2VydCBldmVudF9pZC5uYXRpdmUgPD0gc2VsZi5ldmVudF9jb3VudGVyLCAiRXZlbnQgZG9lcyBub3QgZXhpc3QiCiAgICBkaWcgMgogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImV2ZW50X2NvdW50ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZXZlbnRfY291bnRlciBleGlzdHMKICAgIDw9CiAgICBhc3NlcnQgLy8gRXZlbnQgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxNjItMTYzCiAgICAvLyAjIEdldCBldmVudCBmcm9tIHN0b3JhZ2UKICAgIC8vIGV2ZW50ID0gc2VsZi5ldmVudHNbZXZlbnRfaWRdLmNvcHkoKQogICAgYnl0ZWNfMyAvLyAiZXZlbnRzIgogICAgZGlnIDMKICAgIGNvbmNhdAogICAgZHVwCiAgICBjb3ZlciA0CiAgICBkdXAKICAgIGJveF9nZXQKICAgIHN3YXAKICAgIGNvdmVyIDUKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmV2ZW50cyBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxNjUtMTY2CiAgICAvLyAjIFZhbGlkYXRlIGV2ZW50IGlzIG5vdCByZXNvbHZlZAogICAgLy8gYXNzZXJ0IG5vdCBldmVudC5yZXNvbHZlZC5uYXRpdmUsICJFdmVudCBpcyBhbHJlYWR5IHJlc29sdmVkIgogICAgZHVwCiAgICBwdXNoaW50IDE4IC8vIDE4CiAgICBpbnRjXzEgLy8gMQogICAgYm94X2V4dHJhY3QKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGJ5dGVjIDQgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gRXZlbnQgaXMgYWxyZWFkeSByZXNvbHZlZAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE2OC0xNjkKICAgIC8vICMgVmFsaWRhdGUgYmV0dGluZyBwZXJpb2QgaGFzbid0IGVuZGVkCiAgICAvLyBhc3NlcnQgR2xvYmFsLmxhdGVzdF90aW1lc3RhbXAgPCBldmVudC5lbmRfdGltZS5uYXRpdmUsICJFdmVudCBiZXR0aW5nIHBlcmlvZCBoYXMgZW5kZWQiCiAgICBnbG9iYWwgTGF0ZXN0VGltZXN0YW1wCiAgICBzd2FwCiAgICBwdXNoaW50IDEwIC8vIDEwCiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIDwKICAgIGFzc2VydCAvLyBFdmVudCBiZXR0aW5nIHBlcmlvZCBoYXMgZW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxNzEtMTcyCiAgICAvLyAjIFZhbGlkYXRlIHBheW1lbnQKICAgIC8vIGFzc2VydCBwYXltZW50LmFtb3VudCA+IDAsICJCZXQgYW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAiCiAgICBkdXAKICAgIGd0eG5zIEFtb3VudAogICAgZHVwCiAgICBjb3ZlciA0CiAgICBkdXAKICAgIGFzc2VydCAvLyBCZXQgYW1vdW50IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxNzMKICAgIC8vIGFzc2VydCBwYXltZW50LnJlY2VpdmVyID09IEdsb2JhbC5jdXJyZW50X2FwcGxpY2F0aW9uX2FkZHJlc3MsICJQYXltZW50IG11c3QgYmUgdG8gYXBwIGFjY291bnQiCiAgICBzd2FwCiAgICBndHhucyBSZWNlaXZlcgogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgID09CiAgICBhc3NlcnQgLy8gUGF5bWVudCBtdXN0IGJlIHRvIGFwcCBhY2NvdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTc1LTE3NgogICAgLy8gIyBJbmNyZW1lbnQgYmV0IGNvdW50ZXIKICAgIC8vIHNlbGYuYmV0X2NvdW50ZXIgKz0gVUludDY0KDEpCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAiYmV0X2NvdW50ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYmV0X2NvdW50ZXIgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnl0ZWNfMiAvLyAiYmV0X2NvdW50ZXIiCiAgICBkaWcgMQogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxODEKICAgIC8vIGJldF9pZD1hcmM0LlVJbnQ2NChjdXJyZW50X2JldF9pZCksCiAgICBpdG9iCiAgICBkdXAKICAgIGNvdmVyIDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxODMKICAgIC8vIGJldHRvcj1hcmM0LkFkZHJlc3MoVHhuLnNlbmRlciksCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTg1CiAgICAvLyBhbW91bnQ9YXJjNC5VSW50NjQocGF5bWVudC5hbW91bnQpLAogICAgdW5jb3ZlciAyCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTc5LTE4NwogICAgLy8gIyBDcmVhdGUgbmV3IGJldCBzdHJ1Y3QKICAgIC8vIG5ld19iZXQgPSBCZXRTdHJ1Y3QoCiAgICAvLyAgICAgYmV0X2lkPWFyYzQuVUludDY0KGN1cnJlbnRfYmV0X2lkKSwKICAgIC8vICAgICBldmVudF9pZD1ldmVudF9pZCwKICAgIC8vICAgICBiZXR0b3I9YXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpLAogICAgLy8gICAgIG91dGNvbWU9b3V0Y29tZSwKICAgIC8vICAgICBhbW91bnQ9YXJjNC5VSW50NjQocGF5bWVudC5hbW91bnQpLAogICAgLy8gICAgIGNsYWltZWQ9YXJjNC5Cb29sKEZhbHNlKSwKICAgIC8vICkKICAgIGRpZyAyCiAgICB1bmNvdmVyIDUKICAgIGNvbmNhdAogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIHVuY292ZXIgMwogICAgY29uY2F0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxODYKICAgIC8vIGNsYWltZWQ9YXJjNC5Cb29sKEZhbHNlKSwKICAgIGJ5dGVjIDQgLy8gMHgwMAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE3OS0xODcKICAgIC8vICMgQ3JlYXRlIG5ldyBiZXQgc3RydWN0CiAgICAvLyBuZXdfYmV0ID0gQmV0U3RydWN0KAogICAgLy8gICAgIGJldF9pZD1hcmM0LlVJbnQ2NChjdXJyZW50X2JldF9pZCksCiAgICAvLyAgICAgZXZlbnRfaWQ9ZXZlbnRfaWQsCiAgICAvLyAgICAgYmV0dG9yPWFyYzQuQWRkcmVzcyhUeG4uc2VuZGVyKSwKICAgIC8vICAgICBvdXRjb21lPW91dGNvbWUsCiAgICAvLyAgICAgYW1vdW50PWFyYzQuVUludDY0KHBheW1lbnQuYW1vdW50KSwKICAgIC8vICAgICBjbGFpbWVkPWFyYzQuQm9vbChGYWxzZSksCiAgICAvLyApCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxODktMTkwCiAgICAvLyAjIFN0b3JlIGJldCBpbiBib3ggc3RvcmFnZQogICAgLy8gc2VsZi5iZXRzW2FyYzQuVUludDY0KGN1cnJlbnRfYmV0X2lkKV0gPSBuZXdfYmV0LmNvcHkoKQogICAgYnl0ZWMgNyAvLyAiYmV0cyIKICAgIHVuY292ZXIgMgogICAgY29uY2F0CiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTk0CiAgICAvLyBpZiBiZXR0b3JfYWRkcmVzcyBpbiBzZWxmLnVzZXJfYmV0czoKICAgIGJ5dGVjIDkgLy8gInVzZXJfYmV0cyIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToxOTItMTkzCiAgICAvLyAjIFVwZGF0ZSB1c2VyIGJldHMgYXJyYXkKICAgIC8vIGJldHRvcl9hZGRyZXNzID0gYXJjNC5BZGRyZXNzKFR4bi5zZW5kZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MTk0CiAgICAvLyBpZiBiZXR0b3JfYWRkcmVzcyBpbiBzZWxmLnVzZXJfYmV0czoKICAgIGNvbmNhdAogICAgZHVwCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IHBsYWNlX2JldF9lbHNlX2JvZHlAMwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE5NQogICAgLy8gdXNlcl9iZXRfbGlzdCA9IHNlbGYudXNlcl9iZXRzW2JldHRvcl9hZGRyZXNzXS5jb3B5KCkKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYudXNlcl9iZXRzIGVudHJ5IGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE5NgogICAgLy8gdXNlcl9iZXRfbGlzdC5hcHBlbmQoYXJjNC5VSW50NjQoY3VycmVudF9iZXRfaWQpKQogICAgZHVwCiAgICBkaWcgMwogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE5NwogICAgLy8gc2VsZi51c2VyX2JldHNbYmV0dG9yX2FkZHJlc3NdID0gdXNlcl9iZXRfbGlzdC5jb3B5KCkKICAgIGRpZyAxCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGJveF9wdXQKCnBsYWNlX2JldF9hZnRlcl9pZl9lbHNlQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjAyLTIwMwogICAgLy8gIyBVcGRhdGUgZXZlbnQgYmV0cyBhcnJheQogICAgLy8gZXZlbnRfYmV0X2xpc3QgPSBzZWxmLmV2ZW50X2JldHNbZXZlbnRfaWRdLmNvcHkoKQogICAgYnl0ZWMgOCAvLyAiZXZlbnRfYmV0cyIKICAgIGRpZyA2CiAgICBjb25jYXQKICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZXZlbnRfYmV0cyBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyMDQKICAgIC8vIGV2ZW50X2JldF9saXN0LmFwcGVuZChhcmM0LlVJbnQ2NChjdXJyZW50X2JldF9pZCkpCiAgICBkdXAKICAgIGRpZyAzCiAgICBjb25jYXQgLy8gb24gZXJyb3I6IG1heCBhcnJheSBsZW5ndGggZXhjZWVkZWQKICAgIHN3YXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjA1CiAgICAvLyBzZWxmLmV2ZW50X2JldHNbZXZlbnRfaWRdID0gZXZlbnRfYmV0X2xpc3QuY29weSgpCiAgICBkaWcgMQogICAgYm94X2RlbAogICAgcG9wCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjA3LTIwOAogICAgLy8gIyBVcGRhdGUgZXZlbnQgdG90YWxzCiAgICAvLyBpZiBvdXRjb21lLm5hdGl2ZToKICAgIGRpZyA0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBieiBwbGFjZV9iZXRfZWxzZV9ib2R5QDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyMDkKICAgIC8vIGV2ZW50LnRvdGFsX3llc19iZXRzID0gYXJjNC5VSW50NjQoZXZlbnQudG90YWxfeWVzX2JldHMubmF0aXZlICsgMSkKICAgIGRpZyAzCiAgICBwdXNoaW50IDE5IC8vIDE5CiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBkaWcgMwogICAgc3dhcAogICAgcmVwbGFjZTIgMTkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyMTAKICAgIC8vIGV2ZW50LnRvdGFsX3llc19hbW91bnQgPSBhcmM0LlVJbnQ2NChldmVudC50b3RhbF95ZXNfYW1vdW50Lm5hdGl2ZSArIHBheW1lbnQuYW1vdW50KQogICAgZHVwCiAgICBwdXNoaW50IDM1IC8vIDM1CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDM1CiAgICBidXJ5IDMKCnBsYWNlX2JldF9hZnRlcl9pZl9lbHNlQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjE1LTIxNgogICAgLy8gIyBVcGRhdGUgZXZlbnQgaW4gc3RvcmFnZQogICAgLy8gc2VsZi5ldmVudHNbZXZlbnRfaWRdID0gZXZlbnQuY29weSgpCiAgICBkaWcgMwogICAgZHVwCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGRpZyAzCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjE4LTIxOQogICAgLy8gIyBMb2cgYmV0IHBsYWNlbWVudAogICAgLy8gbG9nKGFyYzQuU3RyaW5nKCJCZXRQbGFjZWQiKS5ieXRlcyArIGFyYzQuVUludDY0KGN1cnJlbnRfYmV0X2lkKS5ieXRlcykKICAgIHB1c2hieXRlcyAweDAwMDk0MjY1NzQ1MDZjNjE2MzY1NjQKICAgIGRpZyAxCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjEzNAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpwbGFjZV9iZXRfZWxzZV9ib2R5QDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjEyCiAgICAvLyBldmVudC50b3RhbF9ub19iZXRzID0gYXJjNC5VSW50NjQoZXZlbnQudG90YWxfbm9fYmV0cy5uYXRpdmUgKyAxKQogICAgZGlnIDMKICAgIHB1c2hpbnQgMjcgLy8gMjcKICAgIGludGNfMiAvLyA4CiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGRpZyAzCiAgICBzd2FwCiAgICByZXBsYWNlMiAyNwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjIxMwogICAgLy8gZXZlbnQudG90YWxfbm9fYW1vdW50ID0gYXJjNC5VSW50NjQoZXZlbnQudG90YWxfbm9fYW1vdW50Lm5hdGl2ZSArIHBheW1lbnQuYW1vdW50KQogICAgZHVwCiAgICBwdXNoaW50IDQzIC8vIDQzCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgICsKICAgIGl0b2IKICAgIHJlcGxhY2UyIDQzCiAgICBidXJ5IDMKICAgIGIgcGxhY2VfYmV0X2FmdGVyX2lmX2Vsc2VANwoKcGxhY2VfYmV0X2Vsc2VfYm9keUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjE5OQogICAgLy8gbmV3X2xpc3QgPSBhcmM0LkR5bmFtaWNBcnJheVthcmM0LlVJbnQ2NF0oYXJjNC5VSW50NjQoY3VycmVudF9iZXRfaWQpKQogICAgcHVzaGJ5dGVzIDB4MDAwMQogICAgZGlnIDIKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjIwMAogICAgLy8gc2VsZi51c2VyX2JldHNbYmV0dG9yX2FkZHJlc3NdID0gbmV3X2xpc3QuY29weSgpCiAgICBzd2FwCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAogICAgYiBwbGFjZV9iZXRfYWZ0ZXJfaWZfZWxzZUA0CgoKLy8gcHJlZGljdGlvbl9tYXJrZXQuUHJlZGljdGlvbk1hcmtldC5yZXNvbHZlX2V2ZW50W3JvdXRpbmddKCkgLT4gdm9pZDoKcmVzb2x2ZV9ldmVudDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyMjEKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDIKICAgIGR1cAogICAgbGVuCiAgICBpbnRjXzEgLy8gMQogICAgPT0KICAgIGFzc2VydCAvLyBpbnZhbGlkIG51bWJlciBvZiBieXRlcyBmb3IgYm9vbDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyMzYtMjM3CiAgICAvLyAjIE9ubHkgYWRtaW4gY2FuIHJlc29sdmUgZXZlbnRzCiAgICAvLyBhc3NlcnQgVHhuLnNlbmRlciA9PSBzZWxmLmFkbWluLCAiT25seSBhZG1pbiBjYW4gcmVzb2x2ZSBldmVudHMiCiAgICB0eG4gU2VuZGVyCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWMgNSAvLyAiYWRtaW4iCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYWRtaW4gZXhpc3RzCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIHJlc29sdmUgZXZlbnRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjM5LTI0MAogICAgLy8gIyBWYWxpZGF0ZSBldmVudCBleGlzdHMKICAgIC8vIGFzc2VydCBldmVudF9pZC5uYXRpdmUgPD0gc2VsZi5ldmVudF9jb3VudGVyLCAiRXZlbnQgZG9lcyBub3QgZXhpc3QiCiAgICBkaWcgMQogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImV2ZW50X2NvdW50ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZXZlbnRfY291bnRlciBleGlzdHMKICAgIDw9CiAgICBhc3NlcnQgLy8gRXZlbnQgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyNDItMjQzCiAgICAvLyAjIEdldCBldmVudCBmcm9tIHN0b3JhZ2UKICAgIC8vIGV2ZW50ID0gc2VsZi5ldmVudHNbZXZlbnRfaWRdLmNvcHkoKQogICAgYnl0ZWNfMyAvLyAiZXZlbnRzIgogICAgZGlnIDIKICAgIGNvbmNhdAogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ldmVudHMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjQ1LTI0NgogICAgLy8gIyBWYWxpZGF0ZSBldmVudCBpcyBub3QgYWxyZWFkeSByZXNvbHZlZAogICAgLy8gYXNzZXJ0IG5vdCBldmVudC5yZXNvbHZlZC5uYXRpdmUsICJFdmVudCBhbHJlYWR5IHJlc29sdmVkIgogICAgZGlnIDEKICAgIHB1c2hpbnQgMTggLy8gMTgKICAgIGludGNfMSAvLyAxCiAgICBib3hfZXh0cmFjdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgYnl0ZWMgNCAvLyAweDAwCiAgICBpbnRjXzAgLy8gMAogICAgdW5jb3ZlciAyCiAgICBzZXRiaXQKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgICEKICAgIGFzc2VydCAvLyBFdmVudCBhbHJlYWR5IHJlc29sdmVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjQ4LTI0OQogICAgLy8gIyBVcGRhdGUgZXZlbnQgcmVzb2x1dGlvbgogICAgLy8gZXZlbnQucmVzb2x2ZWQgPSBhcmM0LkJvb2woVHJ1ZSkKICAgIHB1c2hpbnQgMTQ0IC8vIDE0NAogICAgaW50Y18xIC8vIDEKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI1MAogICAgLy8gZXZlbnQub3V0Y29tZSA9IG91dGNvbWUKICAgIHVuY292ZXIgMgogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgcHVzaGludCAxNDUgLy8gMTQ1CiAgICBzd2FwCiAgICBzZXRiaXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyNTItMjUzCiAgICAvLyAjIFVwZGF0ZSBldmVudCBpbiBzdG9yYWdlCiAgICAvLyBzZWxmLmV2ZW50c1tldmVudF9pZF0gPSBldmVudC5jb3B5KCkKICAgIGRpZyAxCiAgICBib3hfZGVsCiAgICBwb3AKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyNTUtMjU2CiAgICAvLyAjIExvZyBldmVudCByZXNvbHV0aW9uCiAgICAvLyBsb2coYXJjNC5TdHJpbmcoIkV2ZW50UmVzb2x2ZWQiKS5ieXRlcyArIGV2ZW50X2lkLmJ5dGVzKQogICAgcHVzaGJ5dGVzIDB4MDAwZDQ1NzY2NTZlNzQ1MjY1NzM2ZjZjNzY2NTY0CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjIyMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gcHJlZGljdGlvbl9tYXJrZXQuUHJlZGljdGlvbk1hcmtldC5jbGFpbV93aW5uaW5nc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmNsYWltX3dpbm5pbmdzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI1OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI3NC0yNzUKICAgIC8vICMgVmFsaWRhdGUgYmV0IGV4aXN0cwogICAgLy8gYXNzZXJ0IGJldF9pZC5uYXRpdmUgPD0gc2VsZi5iZXRfY291bnRlciwgIkJldCBkb2VzIG5vdCBleGlzdCIKICAgIGR1cAogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gImJldF9jb3VudGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmJldF9jb3VudGVyIGV4aXN0cwogICAgPD0KICAgIGFzc2VydCAvLyBCZXQgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyNzctMjc4CiAgICAvLyAjIEdldCBiZXQgZnJvbSBzdG9yYWdlCiAgICAvLyBiZXQgPSBzZWxmLmJldHNbYmV0X2lkXS5jb3B5KCkKICAgIGJ5dGVjIDcgLy8gImJldHMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYm94X2dldAogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmJldHMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjgwLTI4MQogICAgLy8gIyBWYWxpZGF0ZSBjYWxsZXIgaXMgdGhlIGJldHRvcgogICAgLy8gYXNzZXJ0IFR4bi5zZW5kZXIgPT0gYmV0LmJldHRvci5uYXRpdmUsICJOb3QgdGhlIGJldCBvd25lciIKICAgIHR4biBTZW5kZXIKICAgIGRpZyAxCiAgICBleHRyYWN0IDE2IDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIE5vdCB0aGUgYmV0IG93bmVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MjgzLTI4NAogICAgLy8gIyBWYWxpZGF0ZSBub3QgYWxyZWFkeSBjbGFpbWVkCiAgICAvLyBhc3NlcnQgbm90IGJldC5jbGFpbWVkLm5hdGl2ZSwgIldpbm5pbmdzIGFscmVhZHkgY2xhaW1lZCIKICAgIGR1cAogICAgcHVzaGludCA0NTYgLy8gNDU2CiAgICBnZXRiaXQKICAgIGJ5dGVjIDQgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICAhCiAgICBhc3NlcnQgLy8gV2lubmluZ3MgYWxyZWFkeSBjbGFpbWVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6Mjg2LTI4NwogICAgLy8gIyBHZXQgZXZlbnQgZnJvbSBzdG9yYWdlCiAgICAvLyBldmVudCA9IHNlbGYuZXZlbnRzW2JldC5ldmVudF9pZF0uY29weSgpCiAgICBkdXAKICAgIGV4dHJhY3QgOCA4CiAgICBieXRlY18zIC8vICJldmVudHMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weToyODktMjkwCiAgICAvLyAjIFZhbGlkYXRlIGV2ZW50IGlzIHJlc29sdmVkCiAgICAvLyBhc3NlcnQgZXZlbnQucmVzb2x2ZWQubmF0aXZlLCAiRXZlbnQgbm90IHJlc29sdmVkIHlldCIKICAgIGR1cAogICAgcHVzaGludCAxOCAvLyAxOAogICAgaW50Y18xIC8vIDEKICAgIGJveF9leHRyYWN0CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBnZXRiaXQKICAgIGJ5dGVjIDQgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBhc3NlcnQgLy8gRXZlbnQgbm90IHJlc29sdmVkIHlldAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI5Mi0yOTMKICAgIC8vICMgVmFsaWRhdGUgYmV0IHdvbgogICAgLy8gYXNzZXJ0IGJldC5vdXRjb21lLm5hdGl2ZSA9PSBldmVudC5vdXRjb21lLm5hdGl2ZSwgIkJldCBkaWQgbm90IHdpbiIKICAgIHVuY292ZXIgMgogICAgcHVzaGludCAzODQgLy8gMzg0CiAgICBnZXRiaXQKICAgIGJ5dGVjIDQgLy8gMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBpbnRjXzAgLy8gMAogICAgZ2V0Yml0CiAgICBzd2FwCiAgICBpbnRjXzEgLy8gMQogICAgZ2V0Yml0CiAgICBieXRlYyA0IC8vIDB4MDAKICAgIGludGNfMCAvLyAwCiAgICB1bmNvdmVyIDIKICAgIHNldGJpdAogICAgaW50Y18wIC8vIDAKICAgIGdldGJpdAogICAgZGlnIDEKICAgID09CiAgICBhc3NlcnQgLy8gQmV0IGRpZCBub3Qgd2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6Mjk1LTI5NgogICAgLy8gIyBDYWxjdWxhdGUgcGF5b3V0CiAgICAvLyB0b3RhbF9wb29sID0gZXZlbnQudG90YWxfeWVzX2Ftb3VudC5uYXRpdmUgKyBldmVudC50b3RhbF9ub19hbW91bnQubmF0aXZlCiAgICBkaWcgMQogICAgcHVzaGludCAzNSAvLyAzNQogICAgaW50Y18yIC8vIDgKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgcHVzaGludCA0MyAvLyA0MwogICAgaW50Y18yIC8vIDgKICAgIGJveF9leHRyYWN0CiAgICBidG9pCiAgICBkdXAKICAgIGNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgKwogICAgc3dhcAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI5NwogICAgLy8gd2lubmluZ19wb29sID0gZXZlbnQudG90YWxfeWVzX2Ftb3VudC5uYXRpdmUgaWYgYmV0Lm91dGNvbWUubmF0aXZlIGVsc2UgZXZlbnQudG90YWxfbm9fYW1vdW50Lm5hdGl2ZQogICAgYnogY2xhaW1fd2lubmluZ3NfdGVybmFyeV9mYWxzZUAzCiAgICBkaWcgMgoKY2xhaW1fd2lubmluZ3NfdGVybmFyeV9tZXJnZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI5OS0zMDAKICAgIC8vICMgUHJvcG9ydGlvbmFsIHBheW91dDogKGJldF9hbW91bnQgKiB0b3RhbF9wb29sKSAvIHdpbm5pbmdfcG9vbAogICAgLy8gcGF5b3V0ID0gKGJldC5hbW91bnQubmF0aXZlICogdG90YWxfcG9vbCkgLy8gd2lubmluZ19wb29sCiAgICBkaWcgNAogICAgZHVwCiAgICBwdXNoaW50IDQ5IC8vIDQ5CiAgICBleHRyYWN0X3VpbnQ2NAogICAgZGlnIDMKICAgICoKICAgIHVuY292ZXIgMgogICAgLwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwMi0zMDMKICAgIC8vICMgTWFyayBiZXQgYXMgY2xhaW1lZAogICAgLy8gYmV0LmNsYWltZWQgPSBhcmM0LkJvb2woVHJ1ZSkKICAgIHN3YXAKICAgIHB1c2hpbnQgNDU2IC8vIDQ1NgogICAgaW50Y18xIC8vIDEKICAgIHNldGJpdAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwMi0zMDQKICAgIC8vICMgTWFyayBiZXQgYXMgY2xhaW1lZAogICAgLy8gYmV0LmNsYWltZWQgPSBhcmM0LkJvb2woVHJ1ZSkKICAgIC8vIHNlbGYuYmV0c1tiZXRfaWRdID0gYmV0LmNvcHkoKQogICAgZGlnIDYKICAgIGR1cAogICAgcHVzaGludCA1NyAvLyA1NwogICAgaW50Y18xIC8vIDEKICAgIGJveF9leHRyYWN0CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwMi0zMDMKICAgIC8vICMgTWFyayBiZXQgYXMgY2xhaW1lZAogICAgLy8gYmV0LmNsYWltZWQgPSBhcmM0LkJvb2woVHJ1ZSkKICAgIGludGNfMSAvLyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzAyLTMwNAogICAgLy8gIyBNYXJrIGJldCBhcyBjbGFpbWVkCiAgICAvLyBiZXQuY2xhaW1lZCA9IGFyYzQuQm9vbChUcnVlKQogICAgLy8gc2VsZi5iZXRzW2JldF9pZF0gPSBiZXQuY29weSgpCiAgICBzZXRiaXQKICAgIHB1c2hpbnQgNTcgLy8gNTcKICAgIHN3YXAKICAgIGJveF9yZXBsYWNlCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzA2LTMxMQogICAgLy8gIyBTZW5kIHBheW91dCB2aWEgaW5uZXIgdHJhbnNhY3Rpb24KICAgIC8vIGl0eG4uUGF5bWVudCgKICAgIC8vICAgICByZWNlaXZlcj1iZXQuYmV0dG9yLm5hdGl2ZSwKICAgIC8vICAgICBhbW91bnQ9cGF5b3V0LAogICAgLy8gICAgIGZlZT0wLCAgIyBVc2UgZmVlIHBvb2xpbmcgZnJvbSBncm91cAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwOAogICAgLy8gcmVjZWl2ZXI9YmV0LmJldHRvci5uYXRpdmUsCiAgICBleHRyYWN0IDE2IDMyCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwNi0zMDcKICAgIC8vICMgU2VuZCBwYXlvdXQgdmlhIGlubmVyIHRyYW5zYWN0aW9uCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzEgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzEwCiAgICAvLyBmZWU9MCwgICMgVXNlIGZlZSBwb29saW5nIGZyb20gZ3JvdXAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMwNi0zMTEKICAgIC8vICMgU2VuZCBwYXlvdXQgdmlhIGlubmVyIHRyYW5zYWN0aW9uCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICAvLyAgICAgcmVjZWl2ZXI9YmV0LmJldHRvci5uYXRpdmUsCiAgICAvLyAgICAgYW1vdW50PXBheW91dCwKICAgIC8vICAgICBmZWU9MCwgICMgVXNlIGZlZSBwb29saW5nIGZyb20gZ3JvdXAKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzEzLTMxNAogICAgLy8gIyBMb2cgd2lubmluZ3MgY2xhaW1lZAogICAgLy8gbG9nKGFyYzQuU3RyaW5nKCJXaW5uaW5nc0NsYWltZWQiKS5ieXRlcyArIGJldF9pZC5ieXRlcykKICAgIHB1c2hieXRlcyAweDAwMGY1NzY5NmU2ZTY5NmU2NzczNDM2YzYxNjk2ZDY1NjQKICAgIGRpZyA2CiAgICBjb25jYXQKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjI1OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpjbGFpbV93aW5uaW5nc190ZXJuYXJ5X2ZhbHNlQDM6CiAgICBkaWcgMQogICAgYiBjbGFpbV93aW5uaW5nc190ZXJuYXJ5X21lcmdlQDQKCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LmdldF91c2VyX2JldHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRfdXNlcl9iZXRzOgogICAgaW50Y18wIC8vIDAKICAgIHB1c2hieXRlcyAiIgogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzE2CiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgbGVuCiAgICBwdXNoaW50IDMyIC8vIDMyCiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50OFszMl0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMjcKICAgIC8vIHJlc3VsdCA9IGFyYzQuRHluYW1pY0FycmF5W0JldFN0cnVjdF0oKQogICAgYnl0ZWMgNiAvLyAweDAwMDAKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMjkKICAgIC8vIGlmIHVzZXIgaW4gc2VsZi51c2VyX2JldHM6CiAgICBieXRlYyA5IC8vICJ1c2VyX2JldHMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGR1cAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRfdXNlcl9iZXRzX2FmdGVyX2lmX2Vsc2VAOQogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMzMC0zMzEKICAgIC8vIGJldF9pZHMgPSBzZWxmLnVzZXJfYmV0c1t1c2VyXS5jb3B5KCkKICAgIC8vIGZvciBpIGluIHVyYW5nZShiZXRfaWRzLmxlbmd0aCk6CiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBpbnRjXzMgLy8gMgogICAgYm94X2V4dHJhY3QKICAgIGJ0b2kKICAgIGJ1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMzMQogICAgLy8gZm9yIGkgaW4gdXJhbmdlKGJldF9pZHMubGVuZ3RoKToKICAgIGludGNfMCAvLyAwCiAgICBidXJ5IDMKCmdldF91c2VyX2JldHNfZm9yX2hlYWRlckAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMzMQogICAgLy8gZm9yIGkgaW4gdXJhbmdlKGJldF9pZHMubGVuZ3RoKToKICAgIGRpZyAyCiAgICBkaWcgNAogICAgPAogICAgYnogZ2V0X3VzZXJfYmV0c19hZnRlcl9pZl9lbHNlQDkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMzIKICAgIC8vIGJldF9pZCA9IGJldF9pZHNbaV0KICAgIGRpZyAyCiAgICBpbnRjXzIgLy8gOAogICAgKgogICAgaW50Y18zIC8vIDIKICAgICsKICAgIGRpZyAxCiAgICBzd2FwCiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIGR1cAogICAgYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzMzCiAgICAvLyBpZiBiZXRfaWQubmF0aXZlIDw9IHNlbGYuYmV0X2NvdW50ZXI6CiAgICBidG9pCiAgICBpbnRjXzAgLy8gMAogICAgYnl0ZWNfMiAvLyAiYmV0X2NvdW50ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuYmV0X2NvdW50ZXIgZXhpc3RzCiAgICA8PQogICAgYnogZ2V0X3VzZXJfYmV0c19hZnRlcl9pZl9lbHNlQDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMzQKICAgIC8vIGJldCA9IHNlbGYuYmV0c1tiZXRfaWRdLmNvcHkoKQogICAgYnl0ZWMgNyAvLyAiYmV0cyIKICAgIGRpZyA1CiAgICBjb25jYXQKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmJldHMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzM1CiAgICAvLyByZXN1bHQuYXBwZW5kKGJldC5jb3B5KCkpCiAgICBkaWcgMgogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGNvbmNhdCAvLyBvbiBlcnJvcjogbWF4IGFycmF5IGxlbmd0aCBleGNlZWRlZAogICAgc3dhcAogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2CiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDAKICAgIGJ1cnkgMgoKZ2V0X3VzZXJfYmV0c19hZnRlcl9pZl9lbHNlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzMxCiAgICAvLyBmb3IgaSBpbiB1cmFuZ2UoYmV0X2lkcy5sZW5ndGgpOgogICAgZGlnIDIKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDMKICAgIGIgZ2V0X3VzZXJfYmV0c19mb3JfaGVhZGVyQDMKCmdldF91c2VyX2JldHNfYWZ0ZXJfaWZfZWxzZUA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjMxNgogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIGRpZyAyCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHByZWRpY3Rpb25fbWFya2V0LlByZWRpY3Rpb25NYXJrZXQuZ2V0X3RvdGFsX2JldHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRfdG90YWxfYmV0czoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMzkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMiAvLyA4CiAgICA9PQogICAgYXNzZXJ0IC8vIGludmFsaWQgbnVtYmVyIG9mIGJ5dGVzIGZvciB1aW50NjQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozNTMKICAgIC8vIGFzc2VydCBldmVudF9pZC5uYXRpdmUgPD0gc2VsZi5ldmVudF9jb3VudGVyLCAiRXZlbnQgZG9lcyBub3QgZXhpc3QiCiAgICBkdXAKICAgIGJ0b2kKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJldmVudF9jb3VudGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmV2ZW50X2NvdW50ZXIgZXhpc3RzCiAgICA8PQogICAgYXNzZXJ0IC8vIEV2ZW50IGRvZXMgbm90IGV4aXN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzU1CiAgICAvLyBldmVudCA9IHNlbGYuZXZlbnRzW2V2ZW50X2lkXS5jb3B5KCkKICAgIGJ5dGVjXzMgLy8gImV2ZW50cyIKICAgIHN3YXAKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjM1NS0zNTYKICAgIC8vIGV2ZW50ID0gc2VsZi5ldmVudHNbZXZlbnRfaWRdLmNvcHkoKQogICAgLy8gcmV0dXJuIGFyYzQuVHVwbGUoKGV2ZW50LnRvdGFsX3llc19iZXRzLCBldmVudC50b3RhbF9ub19iZXRzKSkKICAgIGR1cAogICAgcHVzaGludCAxOSAvLyAxOQogICAgaW50Y18yIC8vIDgKICAgIGJveF9leHRyYWN0CiAgICBzd2FwCiAgICBwdXNoaW50IDI3IC8vIDI3CiAgICBpbnRjXzIgLy8gOAogICAgYm94X2V4dHJhY3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozNTYKICAgIC8vIHJldHVybiBhcmM0LlR1cGxlKChldmVudC50b3RhbF95ZXNfYmV0cywgZXZlbnQudG90YWxfbm9fYmV0cykpCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozMzkKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHByZWRpY3Rpb25fbWFya2V0LlByZWRpY3Rpb25NYXJrZXQuZ2V0X2V2ZW50W3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0X2V2ZW50OgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjM1OAogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18yIC8vIDgKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIHVpbnQ2NAogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjM3MgogICAgLy8gYXNzZXJ0IGV2ZW50X2lkLm5hdGl2ZSA8PSBzZWxmLmV2ZW50X2NvdW50ZXIsICJFdmVudCBkb2VzIG5vdCBleGlzdCIKICAgIGR1cAogICAgYnRvaQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzAgLy8gImV2ZW50X2NvdW50ZXIiCiAgICBhcHBfZ2xvYmFsX2dldF9leAogICAgYXNzZXJ0IC8vIGNoZWNrIHNlbGYuZXZlbnRfY291bnRlciBleGlzdHMKICAgIDw9CiAgICBhc3NlcnQgLy8gRXZlbnQgZG9lcyBub3QgZXhpc3QKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozNzMKICAgIC8vIHJldHVybiBzZWxmLmV2ZW50c1tldmVudF9pZF0uY29weSgpCiAgICBieXRlY18zIC8vICJldmVudHMiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmV2ZW50cyBlbnRyeSBleGlzdHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozNTgKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHByZWRpY3Rpb25fbWFya2V0LlByZWRpY3Rpb25NYXJrZXQuZ2V0X2FsbF9ldmVudHNbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRfYWxsX2V2ZW50czoKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDIKICAgIHB1c2hieXRlcyAiIgogICAgZHVwbiAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzgzCiAgICAvLyByZXN1bHQgPSBhcmM0LkR5bmFtaWNBcnJheVtFdmVudFN0cnVjdF0oKQogICAgYnl0ZWMgNiAvLyAweDAwMDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozODUKICAgIC8vIGZvciBpIGluIHVyYW5nZSgxLCBzZWxmLmV2ZW50X2NvdW50ZXIgKyAxKToKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJldmVudF9jb3VudGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmV2ZW50X2NvdW50ZXIgZXhpc3RzCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgaW50Y18xIC8vIDEKCmdldF9hbGxfZXZlbnRzX2Zvcl9oZWFkZXJAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozODUKICAgIC8vIGZvciBpIGluIHVyYW5nZSgxLCBzZWxmLmV2ZW50X2NvdW50ZXIgKyAxKToKICAgIGR1cAogICAgZGlnIDIKICAgIDwKICAgIGJ6IGdldF9hbGxfZXZlbnRzX2FmdGVyX2ZvckA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6Mzg2CiAgICAvLyBldmVudF9pZCA9IGFyYzQuVUludDY0KGkpCiAgICBkdXAKICAgIGl0b2IKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozODcKICAgIC8vIGV2ZW50ID0gc2VsZi5ldmVudHNbZXZlbnRfaWRdLmNvcHkoKQogICAgYnl0ZWNfMyAvLyAiZXZlbnRzIgogICAgc3dhcAogICAgY29uY2F0CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5ldmVudHMgZW50cnkgZXhpc3RzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6Mzg4CiAgICAvLyByZXN1bHQuYXBwZW5kKGV2ZW50LmNvcHkoKSkKICAgIGRpZyAzCiAgICBkdXAKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNgogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDEwCiAgICBleHRyYWN0IDIgMAogICAgYnVyeSAxMgogICAgcHVzaGJ5dGVzIDB4MDAwMgogICAgdW5jb3ZlciAyCiAgICBjb25jYXQKICAgIGJ1cnkgOQogICAgcHVzaGJ5dGVzIDB4CiAgICBidXJ5IDEwCiAgICBpbnRjXzMgLy8gMgogICAgKgogICAgYnVyeSA0CiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA1CgpnZXRfYWxsX2V2ZW50c19mb3JfaGVhZGVyQDc6CiAgICBkaWcgNAogICAgZGlnIDQKICAgIDwKICAgIGJ6IGdldF9hbGxfZXZlbnRzX2FmdGVyX2ZvckA5CiAgICBkaWcgOQogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZGlnIDEwCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ1cnkgMTAKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBidXJ5IDUKICAgIGIgZ2V0X2FsbF9ldmVudHNfZm9yX2hlYWRlckA3CgpnZXRfYWxsX2V2ZW50c19hZnRlcl9mb3JAOToKICAgIGRpZyA5CiAgICBsZW4KICAgIGJ1cnkgNgogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNQoKZ2V0X2FsbF9ldmVudHNfZm9yX2hlYWRlckAxMDoKICAgIGRpZyA0CiAgICBpbnRjXzMgLy8gMgogICAgPAogICAgYnogZ2V0X2FsbF9ldmVudHNfYWZ0ZXJfZm9yQDEyCiAgICBkaWcgNwogICAgZGlnIDUKICAgIGR1cAogICAgY292ZXIgMgogICAgZXh0cmFjdF91aW50MTYKICAgIGRpZyA3CiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgZGlnIDEwCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGJ1cnkgMTAKICAgIGludGNfMyAvLyAyCiAgICArCiAgICBidXJ5IDUKICAgIGIgZ2V0X2FsbF9ldmVudHNfZm9yX2hlYWRlckAxMAoKZ2V0X2FsbF9ldmVudHNfYWZ0ZXJfZm9yQDEyOgogICAgZGlnIDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozODgKICAgIC8vIHJlc3VsdC5hcHBlbmQoZXZlbnQuY29weSgpKQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICBkaWcgOQogICAgY29uY2F0CiAgICBkaWcgMTAKICAgIGRpZyA1CiAgICBkaWcgOAogICAgc3Vic3RyaW5nMwogICAgY29uY2F0CiAgICBkaWcgOAogICAgZXh0cmFjdCAyIDAKICAgIGNvbmNhdAogICAgYnVyeSAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6Mzg1CiAgICAvLyBmb3IgaSBpbiB1cmFuZ2UoMSwgc2VsZi5ldmVudF9jb3VudGVyICsgMSk6CiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZ2V0X2FsbF9ldmVudHNfZm9yX2hlYWRlckAyCgpnZXRfYWxsX2V2ZW50c19hZnRlcl9mb3JANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTozNzUKICAgIC8vIEBhcmM0LmFiaW1ldGhvZChyZWFkb25seT1UcnVlKQogICAgYnl0ZWNfMSAvLyAweDE1MWY3Yzc1CiAgICBkaWcgMwogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LmdldF9jb250cmFjdF9iYWxhbmNlW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0X2NvbnRyYWN0X2JhbGFuY2U6CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDAwCiAgICAvLyByZXR1cm4gYXJjNC5VSW50NjQoR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5iYWxhbmNlKQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0QmFsYW5jZQogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6MzkyCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LmVtZXJnZW5jeV93aXRoZHJhd1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmVtZXJnZW5jeV93aXRoZHJhdzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo0MTEtNDEyCiAgICAvLyAjIE9ubHkgYWRtaW4gY2FuIGVtZXJnZW5jeSB3aXRoZHJhdwogICAgLy8gYXNzZXJ0IFR4bi5zZW5kZXIgPT0gc2VsZi5hZG1pbiwgIk9ubHkgYWRtaW4gY2FuIGVtZXJnZW5jeSB3aXRoZHJhdyIKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICBieXRlYyA1IC8vICJhZG1pbiIKICAgIGFwcF9nbG9iYWxfZ2V0X2V4CiAgICBhc3NlcnQgLy8gY2hlY2sgc2VsZi5hZG1pbiBleGlzdHMKICAgIHN3YXAKICAgIGRpZyAxCiAgICA9PQogICAgYXNzZXJ0IC8vIE9ubHkgYWRtaW4gY2FuIGVtZXJnZW5jeSB3aXRoZHJhdwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQxNC00MTUKICAgIC8vICMgR2V0IGN1cnJlbnQgYmFsYW5jZSAobWludXMgbWluaW11bSBiYWxhbmNlIHJlcXVpcmVtZW50KQogICAgLy8gY3VycmVudF9iYWxhbmNlID0gR2xvYmFsLmN1cnJlbnRfYXBwbGljYXRpb25fYWRkcmVzcy5iYWxhbmNlCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RCYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo0MTYKICAgIC8vIG1pbl9iYWxhbmNlID0gR2xvYmFsLm1pbl9iYWxhbmNlCiAgICBnbG9iYWwgTWluQmFsYW5jZQogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQxNwogICAgLy8gd2l0aGRyYXdhbF9hbW91bnQgPSBjdXJyZW50X2JhbGFuY2UgLSBtaW5fYmFsYW5jZQogICAgLQogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQxOQogICAgLy8gYXNzZXJ0IHdpdGhkcmF3YWxfYW1vdW50ID4gMCwgIk5vIGJhbGFuY2UgdG8gd2l0aGRyYXciCiAgICBkdXAKICAgIGFzc2VydCAvLyBObyBiYWxhbmNlIHRvIHdpdGhkcmF3CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDIxLTQyNgogICAgLy8gIyBTZW5kIGZ1bmRzIHZpYSBpbm5lciB0cmFuc2FjdGlvbgogICAgLy8gaXR4bi5QYXltZW50KAogICAgLy8gICAgIHJlY2VpdmVyPXNlbGYuYWRtaW4sCiAgICAvLyAgICAgYW1vdW50PXdpdGhkcmF3YWxfYW1vdW50LAogICAgLy8gICAgIGZlZT0wLCAgIyBVc2UgZmVlIHBvb2xpbmcgZnJvbSBncm91cAogICAgLy8gKS5zdWJtaXQoKQogICAgaXR4bl9iZWdpbgogICAgaXR4bl9maWVsZCBBbW91bnQKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo0MjEtNDIyCiAgICAvLyAjIFNlbmQgZnVuZHMgdmlhIGlubmVyIHRyYW5zYWN0aW9uCiAgICAvLyBpdHhuLlBheW1lbnQoCiAgICBpbnRjXzEgLy8gcGF5CiAgICBpdHhuX2ZpZWxkIFR5cGVFbnVtCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDI1CiAgICAvLyBmZWU9MCwgICMgVXNlIGZlZSBwb29saW5nIGZyb20gZ3JvdXAKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQyMS00MjYKICAgIC8vICMgU2VuZCBmdW5kcyB2aWEgaW5uZXIgdHJhbnNhY3Rpb24KICAgIC8vIGl0eG4uUGF5bWVudCgKICAgIC8vICAgICByZWNlaXZlcj1zZWxmLmFkbWluLAogICAgLy8gICAgIGFtb3VudD13aXRoZHJhd2FsX2Ftb3VudCwKICAgIC8vICAgICBmZWU9MCwgICMgVXNlIGZlZSBwb29saW5nIGZyb20gZ3JvdXAKICAgIC8vICkuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDI4LTQyOQogICAgLy8gIyBMb2cgZW1lcmdlbmN5IHdpdGhkcmF3YWwKICAgIC8vIGxvZyhhcmM0LlN0cmluZygiRW1lcmdlbmN5V2l0aGRyYXciKS5ieXRlcykKICAgIHB1c2hieXRlcyAweDAwMTE0NTZkNjU3MjY3NjU2ZTYzNzk1NzY5NzQ2ODY0NzI2MTc3CiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo0MDIKICAgIC8vIEBhcmM0LmFiaW1ldGhvZAogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHByZWRpY3Rpb25fbWFya2V0LlByZWRpY3Rpb25NYXJrZXQuZ2V0X2FkbWluW3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0X2FkbWluOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQzOQogICAgLy8gcmV0dXJuIGFyYzQuQWRkcmVzcyhzZWxmLmFkbWluKQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjIDUgLy8gImFkbWluIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmFkbWluIGV4aXN0cwogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQzMQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gcHJlZGljdGlvbl9tYXJrZXQuUHJlZGljdGlvbk1hcmtldC5nZXRfZXZlbnRfY291bnRlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldF9ldmVudF9jb3VudGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQ0OQogICAgLy8gcmV0dXJuIGFyYzQuVUludDY0KHNlbGYuZXZlbnRfY291bnRlcikKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18wIC8vICJldmVudF9jb3VudGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmV2ZW50X2NvdW50ZXIgZXhpc3RzCiAgICBpdG9iCiAgICAvLyBzbWFydF9jb250cmFjdHMvcHJlZGljdGlvbl9tYXJrZXQucHk6NDQxCiAgICAvLyBAYXJjNC5hYmltZXRob2QocmVhZG9ubHk9VHJ1ZSkKICAgIGJ5dGVjXzEgLy8gMHgxNTFmN2M3NQogICAgc3dhcAogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBwcmVkaWN0aW9uX21hcmtldC5QcmVkaWN0aW9uTWFya2V0LmdldF9iZXRfY291bnRlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldF9iZXRfY291bnRlcjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9wcmVkaWN0aW9uX21hcmtldC5weTo0NTkKICAgIC8vIHJldHVybiBhcmM0LlVJbnQ2NChzZWxmLmJldF9jb3VudGVyKQogICAgaW50Y18wIC8vIDAKICAgIGJ5dGVjXzIgLy8gImJldF9jb3VudGVyIgogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBzZWxmLmJldF9jb3VudGVyIGV4aXN0cwogICAgaXRvYgogICAgLy8gc21hcnRfY29udHJhY3RzL3ByZWRpY3Rpb25fbWFya2V0LnB5OjQ1MQogICAgLy8gQGFyYzQuYWJpbWV0aG9kKHJlYWRvbmx5PVRydWUpCiAgICBieXRlY18xIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCg==",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBhbGdvcHkuYXJjNC5BUkM0Q29udHJhY3QuY2xlYXJfc3RhdGVfcHJvZ3JhbSgpIC0+IHVpbnQ2NDoKbWFpbjoKICAgIHB1c2hpbnQgMSAvLyAxCiAgICByZXR1cm4K"
    },
    "byteCode": {
        "approval": "CyAEAAEIAiYKDWV2ZW50X2NvdW50ZXIEFR98dQtiZXRfY291bnRlcgZldmVudHMBAAVhZG1pbgIAAARiZXRzCmV2ZW50X2JldHMJdXNlcl9iZXRzMRhAAAsnBTIDZygiZyoiZzEZFEQxGEEAY4INBNujA24Eb3HREQS7VLUkBHs339oEo2X9UQQMI37aBOQ33XMEeI1c+QQXq4FuBKLrxGEENGs9vASm7UzDBB716NU2GgCODQAkALEB4wJHAxwDigOuA8kEggSOBMgE0wTeAIAEiUpxbjYaAI4BAAEANhoBSRWBIBJEJwVMZygiZyoiZyNDNhoBSSJZJQhLARUSRDYaAkkVJBJEMQAiJwVlRBJESRcyBw1EIihlRCMIKEsBZxZJgAIAM1BPAlCAIQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFBPAlArSwJQSbxITL8nCEsBUEm8SCcGv4AOAAxFdmVudENyZWF0ZWRLAVCwKUxQsCNDNhoBRwIVJBJENhoCSU4CSRUjEkQxFiMJSTgQIxJESwIXIihlRA5EK0sDUElOBEm+TE4FREmBEiO6IlMnBCJPAlQiUxREMgdMgQokuhcMREk4CElOBElETDgHMgoSRCIqZUQjCCpLAWcWSU4EMQBPAhZLAk8FUE8CUE8DUExQJwRQJwdPAlBMvycJMQBQSb1FAUEAjkm+RElLA1BMIlkjCBZXBgJcAEsBvEi/JwhLBlBJvkRJSwNQTCJZIwgWVwYCXABLAbxIv0sEIlNBADZLA4ETJLoXIwgWSwNMXBNJgSNbSwMIFlwjRQNLA0m8SEsDv4ALAAlCZXRQbGFjZWRLAVCwI0NLA4EbJLoXIwgWSwNMXBtJgStbSwMIFlwrRQNC/8eAAgABSwJQTEm8SEy/Qv95NhoBSRUkEkQ2GgJJFSMSRDEAIicFZUQSREsBFyIoZUQORCtLAlBJvkRLAYESI7oiUycEIk8CVCJTFESBkAEjVE8CIlOBkQFMVEsBvEi/gA8ADUV2ZW50UmVzb2x2ZWRMULAjQzYaAUcCFSQSREkXIiplRA5EJwdMUEm+TElPAkQxAEsBVxAgEkRJgcgDUycEIk8CVCJTFERJVwgIK0xQSYESI7pJIlMnBCJPAlQiU0RPAoGAA1MnBCJPAlQiU0wjUycEIk8CVCJTSwESREsBgSMkuhdJTgJOA08CgSskuhdJTgNPAghMQQBKSwJLBEmBMVtLAwtPAgpMgcgDI1RLBkmBOSO6IiNUgTlMu7FXECCyB7III7IQIrIBs4ARAA9XaW5uaW5nc0NsYWltZWRLBlCwI0NLAUL/syKAAEk2GgFJFYEgEkQnBkwnCUxQSb1FAUEATEkiJboXRQQiRQNLAksEDEEAOksCJAslCEsBTCS6SUUGFyIqZUQOQQAaJwdLBVC+REsCSU8CUEwiWSMIFlcGAlwARQJLAiMIRQNC/74pSwJQsCNDNhoBSRUkEkRJFyIoZUQORCtMUEmBEyS6TIEbJLpQKUxQsCNDNhoBSRUkEkRJFyIoZUQORCtMUL5EKUxQsCNDIkcCgABHAycGIihlRCMII0lLAgxBAJtJFitMUL5ESwNJIllJTgJFClcCAEUMgAIAAk8CUEUJgABFCiULRQQiRQVLBEsEDEEAG0sJSwVJTgJZJQgWVwYCSwpMUEUKJQhFBUL/3UsJFUUGIkUFSwQlDEEAHEsHSwVJTgJZSwcIFlcGAksKTFBFCiUIRQVC/91LBiMIFlcGAksJUEsKSwVLCFJQSwhXAgBQRQNJIwhFAUL/XilLA1CwI0MyCnMARBYpTFCwI0MxACInBWVETEsBEkQyCnMARDIBCUlEsbIIsgcjshAisgGzgBMAEUVtZXJnZW5jeVdpdGhkcmF3sCNDIicFZUQpTFCwI0MiKGVEFilMULAjQyIqZUQWKUxQsCND",
        "clear": "C4EBQw=="
    },
    "compilerInfo": {
        "compiler": "puya",
        "compilerVersion": {
            "major": 5,
            "minor": 2,
            "patch": 0
        }
    },
    "events": [],
    "templateVariables": {}
}